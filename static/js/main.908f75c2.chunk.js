(this.webpackJsonpcityscopejs=this.webpackJsonpcityscopejs||[]).push([[0],{29:function(e){e.exports=JSON.parse('{"docsURL":"https://raw.githubusercontent.com/CityScope/CS_cityscopeJS/master/docs/","SOCKETS":{"URL":"ws://localhost:8080"},"cityIO":{"baseURL":"https://cityio.media.mit.edu/api/table/","ListOfTables":"https://cityio.media.mit.edu/api/tables/list/","interval":500,"cityIOmodules":[{"name":"header","expectUpdate":false},{"name":"GEOGRID","expectUpdate":false},{"name":"ABM2","expectUpdate":true},{"name":"grid","expectUpdate":false},{"name":"access","expectUpdate":true},{"name":"GEOGRIDDATA","expectUpdate":false},{"name":"indicators","expectUpdate":true},{"name":"textual","expectUpdate":true}]},"menu":{"toggles":{"GRID":{"displayName":"Interactive Grid","showOnInit":true,"requireModule":"GEOGRID"},"ABM":{"displayName":"Mobility Simulation","showOnInit":false,"requireModule":"ABM2"},"AGGREGATED_TRIPS":{"displayName":"Aggregated Trips","showOnInit":false,"requireModule":"ABM2"},"ACCESS":{"displayName":"Accessibility Analysis","showOnInit":false,"requireModule":"access"},"ROTATE":{"displayName":"Rotate Camera","showOnInit":false,"requireModule":false},"TEXTUAL":{"displayName":"Toggle Information","showOnInit":true,"requireModule":"GEOGRID"},"SHADOWS":{"displayName":"Toggle Shadows","showOnInit":true,"requireModule":"GEOGRID"}}},"map":{"mapStyle":{"sat":"mapbox://styles/relnox/cjs9rb33k2pix1fo833uweyjd?fresh=true","blue":"mapbox://styles/relnox/ck0h5xn701bpr1dqs3he2lecq?fresh=true"},"layers":{"ABM":{"startSimHour":0,"endSimHour":86400,"currentSimHour":43200,"animationSpeed":20},"heatmap":{"colors":[[255,0,130],[0,150,255]]}},"initialViewState":{"zoom":17,"pitch":0,"bearing":0}}}')},392:function(e,t){},632:function(e,t){},73:function(e){e.exports=JSON.parse('{"map":{"mapStyle":{"sat":"mapbox://styles/relnox/cjs9rb33k2pix1fo833uweyjd?fresh=true","dark":"mapbox://styles/relnox/cjl58dpkq2jjp2rmzyrdvfsds?fresh=true","blue":"mapbox://styles/relnox/ck0h5xn701bpr1dqs3he2lecq?fresh=true"}},"GEOGRIDDATA":{"color":[0,0,0],"height":0,"id":0,"interactive":"Web","name":"name"},"GEOGRID":{"features":[],"properties":{"geogrid_to_tui_mapping":{},"header":{"cellSize":50,"latitude":42.3664655,"longitude":-71.0854323,"tz":-5,"ncols":20,"nrows":20,"rotation":0,"projection":"+proj=lcc +lat_1=42.68333333333333 +lat_2=41.71666666666667 +lat_0=41 +lon_0=-71.5 +x_0=200000 +y_0=750000 +ellps=GRS80 +datum=NAD83 +units=m +no_def"},"types":{"Institutional":{"LBCS":[{"proportion":0.3,"use":{"6700":1}},{"proportion":0.7,"use":{"2310":0.3,"4100":0.7}}],"NAICS":[{"proportion":0.3,"use":{"7121":1}},{"proportion":0.7,"use":{"6111":0.3,"6113":0.1,"6115":0.1,"6116":0.2,"8133":0.15,"8134":0.15}}],"interactive":"Web","color":"#B32745","height":4,"sqm_pperson":400},"Office":{"LBCS":[{"proportion":1,"use":{"2310":1}}],"NAICS":[{"proportion":1,"use":{"5400":1}}],"interactive":"Web","color":"#FF5277","height":10,"sqm_pperson":20},"Park":{"LBCS":[{"proportion":1,"use":{"7240":1}}],"NAICS":null,"interactive":"Web","color":"#38C9FF","sqm_pperson":1},"Road":{"LBCS":[{"proportion":1,"use":{"5210":1}}],"NAICS":null,"interactive":"Web","color":"#308FB3","height":1,"sqm_pperson":4},"Residential":{"LBCS":[{"proportion":1,"use":{"1100":1}}],"NAICS":null,"interactive":"Web","color":"#FFFF33","height":4,"sqm_pperson":90},"Retail":{"LBCS":[{"proportion":1,"use":{"2100":0.6,"2200":0.4}}],"NAICS":[{"proportion":1,"use":{"4451":0.02,"4453":0.02,"7224":0.26,"7225":0.7}}],"interactive":"Web","color":"#FF835E","height":4,"sqm_pperson":150},"Campus":{"LBCS":[{"proportion":1,"use":{"2310":1}}],"NAICS":[{"proportion":1,"use":{"3336":0.5,"5414":0.2,"5415":0.1,"5417":0.2}}],"interactive":"Web","color":"#A2FF91","height":10,"sqm_pperson":50},"Industrial":{"LBCS":[{"proportion":1,"use":{"3110":1}}],"NAICS":[{"proportion":1,"use":{"4841":0.2,"5617":0.3,"5619":0.3,"8111":0.2}}],"interactive":"Web","color":"#E83FB8","height":4,"sqm_pperson":60},"Low Income housing":{"LBCS":[{"proportion":0.1,"use":{"2200":1}},{"proportion":0.75,"use":{"2310":1}},{"proportion":0.15,"use":{"1200":1}}],"NAICS":[{"proportion":0.1,"use":{"7224":0.5,"7225":0.5}},{"proportion":0.75,"use":{"5414":0.4,"5415":0.2,"5417":0.4}},{"proportion":0.15,"use":{"7211":1}}],"interactive":"Web","color":"#E945FF","height":20,"sqm_pperson":50},"Residential Low Density":{"LBCS":[{"proportion":1,"use":{"1100":1}}],"NAICS":null,"interactive":"Web","color":"#7FB34B","height":4,"sqm_pperson":320}}},"type":"FeatureCollection"}}')},757:function(e,t,n){},759:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(37),o=n.n(i),c=n(138),s=n(44),l=n(787),p=n(461),u=n(462),d=Object(p.a)((function(){return Object(u.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#18191a",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),h=function(){return d(),null},b=n(189),j=n(39),O={fontFamily:'"Roboto Mono", sans-serif',fontSize:12,fontWeightLight:100,fontWeightRegular:500,fontWeightMedium:700,h1:{fontWeight:700,fontSize:45,letterSpacing:"-1px"},h2:{fontWeight:800,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:700,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}},g=Object(b.a)({zIndex:{appBar:999},palette:{background:{default:"#ff5278",paper:"#18191a",dark:"#ff5278"},primary:{main:"#FFF",light:"#ff5278"},secondary:{main:"#ff5278"},text:{primary:j.colors.grey[100],secondary:"#ff5278"}},typography:O,shape:{borderRadius:20},overrides:{MuiListItem:{root:{"&$selected":{backgroundColor:"#18191a",boxShadow:"12px 12px 16px 0 rgba(0,0,0),-8px -8px 12px 0 rgba(40,41,42)","&:hover":{backgroundColor:"#ff5278"}}},button:{"&:hover":{backgroundColor:"#ff5278"}}},MuiOutlinedInput:{notchedOutline:{borderColor:"#ff5278"}},MuiAppBar:{colorPrimary:{backgroundColor:"#18191a",color:"#FFF"}},MuiDivider:{root:{backgroundColor:"#FFF",opacity:.1}},MuiCard:{root:{boxShadow:"12px 12px 16px 0 rgba(0,0,0),-8px -8px 12px 0 rgba(40,41,42)"}},MuiButton:{root:{boxShadow:"12px 12px 16px 0 rgba(0,0,0),-8px -8px 12px 0 rgba(40,41,42)","&:hover":{boxShadow:"12px 12px 16px 0  #000,-2px -2px 16px 0  #ff5278"}}}}}),f=n(18),m=n(257),x=n.n(m),S=n(537),v=n.n(S),E=n(363),y=n(770),_=n(790),T=n(791),C=n(800),I=n(114),D=n(103),w=n(809),A=n(810),N=n(16),M=n(207),R=n(5),L=n(771),k=n(463),G=n(4),B=Object(p.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.main,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.text.secondary,"& $title":{fontWeight:e.typography.fontWeightBold},"& $icon":{color:e.palette.text.secondary}}}})),W=function(e){var t=e.className,n=e.href,a=e.icon,r=e.title,i=Object(M.a)(e,["className","href","icon","title"]),o=B();return Object(G.jsx)(L.a,Object(N.a)(Object(N.a)({className:Object(R.a)(o.item,t),disableGutters:!0},i),{},{children:Object(G.jsxs)(k.a,{activeClassName:o.active,className:o.button,component:c.c,to:n,children:[a&&Object(G.jsx)(a,{className:o.icon,size:"20"}),Object(G.jsx)("span",{className:o.title,children:r})]})}))},F=[{href:"/",icon:w.a,title:"CityScopeJS"},{href:"/editor",icon:A.a,title:"Grid Editor"},{href:"/projection",icon:v.a,title:"Projection Mapping"}],U=Object(p.a)((function(){return{mobileDrawer:{width:"30vw",top:48,height:"calc(100% - 48px)",boxShadow:"22px 22px 22px 0 rgba(0,0,0)"}}})),P=function(e){var t=e.openNavDrawer,n=e.onMobileNavOpen,a=U(),r=Object(G.jsxs)(E.a,{height:"100%",display:"flex",flexDirection:"column",p:3,children:[Object(G.jsx)(y.a,{children:F.map((function(e){return Object(G.jsx)(W,{style:{padding:"2vh"},href:e.href,title:e.title,icon:e.icon,onClick:n},e.title)}))}),Object(G.jsx)(E.a,{flexGrow:1}),Object(G.jsx)(_.a,{elevation:5,p:2,children:Object(G.jsxs)(T.a,{position:"bottom",children:[Object(G.jsx)(C.a,{href:"http://github.com/CityScope/CS_cityscopeJS/",color:"default",size:"small",children:Object(G.jsx)(x.a,{})}),Object(G.jsx)(E.a,{p:2}),Object(G.jsx)(I.a,{align:"left",variant:"h5",children:"MIT CityScope"}),Object(G.jsx)(I.a,{align:"left",variant:"caption",children:(new Date).getFullYear()})]})})]});return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(D.a,{anchor:"left",classes:{paper:a.mobileDrawer},open:t,elevation:10,variant:"persistent",children:r})})};P.defaultProps={onMobileClose:function(){},openNavDrawer:!1};var z=P,q=n(789),Y=n(475),V=n(379),J=n(538),H=n.n(J),K=Object(p.a)((function(){return{root:{}}})),X=function(e){var t=e.className,n=e.onMobileNavOpen,a=Object(M.a)(e,["className","onMobileNavOpen"]),r=K();return Object(G.jsx)(q.a,Object(N.a)(Object(N.a)({className:Object(R.a)(r.root,t),elevation:5},a),{},{children:Object(G.jsxs)(Y.a,{variant:"dense",children:[Object(G.jsx)(V.a,{color:"inherit",onClick:n,children:Object(G.jsx)(H.a,{})}),Object(G.jsx)(c.b,{to:"/",children:Object(G.jsx)(I.a,{className:r.name,color:"textPrimary",variant:"h5",children:"MIT CityScope"})})]})}))},$=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background,display:"flex",height:"100%",overflow:"hidden",width:"100%"},content:{paddingTop:48,flex:"1 1 auto",height:"100vh",overflow:"auto"}}})),Q=function(){var e=$(),t=Object(a.useState)(!0),n=Object(f.a)(t,2),r=n[0],i=n[1];return Object(G.jsxs)("div",{className:e.root,children:[Object(G.jsx)(z,{openNavDrawer:!r,onMobileNavOpen:function(){return i(!r)}}),Object(G.jsx)(X,{onMobileNavOpen:function(){return i(!r)}}),Object(G.jsx)("div",{className:e.content,children:Object(G.jsx)(s.a,{})})]})},Z=n(792),ee=n(539),te=Object(a.forwardRef)((function(e,t){var n=e.children,a=e.title,r=void 0===a?"":a,i=Object(M.a)(e,["children","title"]);return Object(G.jsxs)("div",Object(N.a)(Object(N.a)({ref:t},i),{},{children:[Object(G.jsx)(ee.a,{children:Object(G.jsxs)("title",{children:["CityScopeJS ",">"," ",r]})}),n]}))})),ne=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),ae=function(){var e=ne();return Object(G.jsx)(te,{className:e.root,title:"404",children:Object(G.jsx)(E.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(G.jsxs)(Z.a,{maxWidth:"md",children:[Object(G.jsx)(I.a,{align:"center",color:"textPrimary",variant:"h1",children:"404"}),Object(G.jsx)(I.a,{align:"center",color:"textPrimary",variant:"h5",children:"The page you are looking for isn\u2019t here"})]})})})},re=n(200),ie=n(201),oe=n(208),ce=n(206);function se(e){if(!e.mousePos)return null;var t=e.mousePos,n=e.selectedType,a=e.divSize,r="rgba("+n.color[0]+","+n.color[1]+","+n.color[2]+",0.6)",i=t.clientX-a/2,o=t.clientY-a/2;return Object(G.jsx)("div",{style:{border:"2px solid",backgroundColor:e.mouseDown?r:"rgba(0,0,0,0)",borderColor:n.color,color:n.color,borderRadius:"15%",position:"fixed",zIndex:1,pointerEvents:"none",width:a,height:a,left:i,top:o},children:Object(G.jsx)("div",{style:{position:"relative",left:a+10,fontSize:"0.5em"},children:n.name})})}var le=n(22),pe=n(143),ue=n(818),de=(n(285),n(820)),he=n(73),be="GET_CITYIO_DATA";var je="LISTEN_TO_MAP_EVENTS";var Oe="LISTEN_TO_ABM_SLIDERS";var ge="LISTEN_TO_ABM_MODE";var fe="LISTEN_TO_ACCESS_TOGGLE";var me="MENU_INTERACTION";var xe="LISTEN_TO_EDIT_MENU";function Se(e){return{type:xe,data:e}}var ve="SET_READY_STATE";var Ee="SET_LOADING_STATE";var ye="SET_SCENARIO_NAMES";var _e="ADD_LOADING_MODULES";var Te="REMOVE_LOADING_MODULES";var Ce="SET_UI_WEBSOCKET_DATA";var Ie="SET_UI_WEBSOCKET_READY";var De="LISTEN_TO_GRID_CREATOR";var we="LISTEN_TO_ROW_EDIT";var Ae="LISTEN_TO_TYPES_LIST";var Ne="LISTEN_TO_BASE_MAP_CENTER";function Me(e){return{type:Ne,data:e}}var Re=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null},Le=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(e){var a;return Object(re.a)(this,n),(a=t.call(this,e))._toggleOrthoView=function(e){e.orthographic=!!a.props.menu.includes("RESET_VIEW")},a._onViewStateChange=function(e){var t=e.viewState;a.setState({viewState:t})},a.componentDidUpdate=function(e){a.props.mapCenter!==e.mapCenter&&a.setState({viewState:Object(N.a)(Object(N.a)({},a.state.viewState),{},{latitude:a.props.mapCenter.latCenter,longitude:a.props.mapCenter.lonCenter,pitch:0,bearing:0,orthographic:!1})})},a._mulipleObjPicked=function(e){var t=a.state.pickingRadius,n=e.x-t/2,r=e.y-t/2;return a.deckGL.pickObjects({x:n,y:r,width:t,height:t})},a._handleGridcellEditing=function(e){if(a.props.selectedType){var t=a.props.selectedType,n=t.height,r=t.name,i=t.color,o=t.interactive,c=a._mulipleObjPicked(e);c.forEach((function(e){var t=e.object.properties;t.color=Re(i),t.height=parseInt(n),t.name=r,"No"!==o?t.interactive=o:delete t.interactive})),a.setState({selectedCellsState:c})}},a._renderSelectionTarget=function(){return a.props.selectedType&&Object(G.jsx)(se,{mousePos:a.state.mousePos,selectedType:a.props.selectedType,divSize:a.state.pickingRadius,mouseDown:a.state.mouseDown})},a._handleKeyUp=function(){a.setState({keyDownState:null})},a._handleKeyDown=function(e){a.setState({keyDownState:e.nativeEvent.key})},a.state={selectedType:null,draggingWhileEditing:!1,selectedCellsState:null,pickingRadius:40,viewState:he.map.initialViewState},a.dirLightSettings={timestamp:Date.UTC(2019,7,1,12),color:[255,255,255],intensity:1,_shadow:!0},a}return Object(ie.a)(n,[{key:"componentDidMount",value:function(){this._rightClickViewRotate(),this._setViewStateToTableHeader()}},{key:"_setViewStateToTableHeader",value:function(){this.setState({viewState:Object(N.a)(Object(N.a)({},this.state.viewState),{},{latitude:he.GEOGRID.properties.header.latitude,longitude:he.GEOGRID.properties.header.longitude,zoom:15,pitch:0,bearing:0,orthographic:!0})})}},{key:"_rightClickViewRotate",value:function(){document.getElementById("deckgl-wrapper").addEventListener("contextmenu",(function(e){return e.preventDefault()}))}},{key:"_renderLayers",value:function(){var e=this,t=[];return t.push(new de.a({id:"GRID",opacity:.5,stroked:!1,filled:!0,wireframe:!0,data:this.props.createdGrid,visible:!0,pickable:!0,extruded:!0,lineWidthScale:1,lineWidthMinPixels:1,getElevation:function(e){return e.properties.height},getFillColor:function(e){return e.properties.color},onClick:function(t,n){n.rightButton||"Shift"===e.state.keyDownState||e._handleGridcellEditing(t)},onDrag:function(t,n){n.rightButton||"Shift"===e.state.keyDownState||e._handleGridcellEditing(t)},onDragStart:function(t,n){n.rightButton||"Shift"===e.state.keyDownState||e.setState({draggingWhileEditing:!0})},onDragEnd:function(){e.setState({draggingWhileEditing:!1})},updateTriggers:{getFillColor:this.state.selectedCellsState,getElevation:this.state.selectedCellsState},transitions:{getFillColor:500,getElevation:500}})),t}},{key:"render",value:function(){var e=this;return Object(G.jsxs)("div",{className:"baseMap",onKeyDown:this._handleKeyDown,onKeyUp:this._handleKeyUp,onMouseMove:function(t){return e.setState({mousePos:t.nativeEvent})},onMouseUp:function(){return e.setState({mouseDown:!1})},onMouseDown:function(){return e.setState({mouseDown:!0})},children:[this._renderSelectionTarget(),Object(G.jsx)(ue.a,{ref:function(t){e.deckGL=t&&t.deck},viewState:this.state.viewState,onViewStateChange:this._onViewStateChange,layers:this._renderLayers(),controller:{touchZoom:!0,touchRotate:!0,dragPan:!this.state.draggingWhileEditing,dragRotate:!this.state.draggingWhileEditing,keyboard:!1},children:Object(G.jsx)(pe.a,{dragRotate:!0,reuseMaps:!0,mapboxApiAccessToken:"pk.eyJ1IjoicmVsbm94IiwiYSI6ImNqd2VwOTNtYjExaHkzeXBzYm1xc3E3dzQifQ.X8r8nj4-baZXSsFgctQMsg",mapStyle:he.map.mapStyle.sat,preventStyleDiffing:!0})})]})}}]),n}(a.Component),ke={listenToBaseMapCenter:Me},Ge=(Object(le.b)((function(e){return{selectedType:e.ROW_EDIT,mapCenter:e.BASE_MAP_CENTER,createdGrid:e.GRID_CREATED}}),ke)(Le),n(78)),Be=(n(550),n(801));var We=n(124);n(477),n(568),n(264);n(204),n(569),n(55),n(802);n(570);Object(p.a)((function(e){return{root:{margin:"auto",height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}}));n(74),n(111);var Fe=n(29);n(205);n(816),n(829),n(825),n(581),n.p;var Ue=n(799);Object(p.a)((function(e){return{divider:{margin:e.spacing(2)}}}));n(468);for(var Pe=n(831),ze=n(803),qe=n(830),Ye=n(805),Ve=n(788),Je=n(130),He=Object.keys(Fe.menu.toggles),Ke=[],Xe=0;Xe<He.length;Xe++)Object.values(Fe.menu.toggles)[Xe].showOnInit&&Ke.push(He[Xe]);var $e={MENU:Ke,CITYIO:{},SCENARIO_NAMES:[],MAP:{},LOADING_MODULES:[],SLIDERS:{time:[Fe.map.layers.ABM.startSimHour,Fe.map.layers.ABM.currentSimHour,Fe.map.layers.ABM.endSimHour],speed:Fe.map.layers.ABM.animationSpeed},ABM_MODE:"mode",ACCESS_TOGGLE:0,SELECTED_TYPE:null,READY:!1,LOADING:!1,ROW_EDIT:null,BASE_MAP_CENTER:{latCenter:null,lonCenter:null},TYPES_LIST:null,GRID_CREATED:null};function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return Object(N.a)(Object(N.a)({},e),{},{CITYIO:t.data});case me:return Object(N.a)(Object(N.a)({},e),{},{MENU:t.data});case je:return Object(N.a)(Object(N.a)({},e),{},{MAP:t.data});case Oe:return Object(N.a)(Object(N.a)({},e),{},{SLIDERS:t.data});case ge:return Object(N.a)(Object(N.a)({},e),{},{ABM_MODE:t.data});case fe:return Object(N.a)(Object(N.a)({},e),{},{ACCESS_TOGGLE:t.data});case xe:return Object(N.a)(Object(N.a)({},e),{},{SELECTED_TYPE:t.data});case ve:return Object(N.a)(Object(N.a)({},e),{},{READY:t.data});case Ee:return Object(N.a)(Object(N.a)({},e),{},{LOADING:t.data});case ye:return Object(N.a)(Object(N.a)({},e),{},{SCENARIO_NAMES:t.data});case _e:return Object(N.a)(Object(N.a)({},e),{},{LOADING_MODULES:Object(Ge.a)(new Set([].concat(Object(Ge.a)(e.LOADING_MODULES),Object(Ge.a)(t.data))))});case Te:return Object(N.a)(Object(N.a)({},e),{},{LOADING_MODULES:e.LOADING_MODULES.filter((function(e){return!t.data.includes(e)}))});case Ce:return Object(N.a)(Object(N.a)({},e),{},{UI_WEBSOCKET_DATA:t.data});case Ie:return Object(N.a)(Object(N.a)({},e),{},{UI_WEBSOCKET_READY:t.data});case we:return Object(N.a)(Object(N.a)({},e),{},{ROW_EDIT:t.data});case Ae:return Object(N.a)(Object(N.a)({},e),{},{TYPES_LIST:t.data});case De:return Object(N.a)(Object(N.a)({},e),{},{GRID_CREATED:t.data});case Ne:return Object(N.a)(Object(N.a)({},e),{},{BASE_MAP_CENTER:t.data});default:return e}}var Ze=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),et=Object(Je.d)(Qe,Ze);n(549),n(833),n(401);function tt(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}var nt=function(e){return/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e)},at=new Date;at.setHours(0,0,0,0);var rt=n(72);function it(e){var t=["#85C4C8","#C22E00","#1E96BE","#EC9370","#F6D18A"],n=Object(a.useState)(!1),r=Object(f.a)(n,2),i=r[0],o=r[1],c=function(){var n=[];return e.typeInfo.forEach((function(e,a){n.push({angle:e.proportion,label:JSON.stringify(e.use),color:t[a]})})),n}();return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(rt.g,{colorType:"literal",animation:!0,className:"donut-chart-example",innerRadius:15,radius:25,getLabel:function(e){return e.label},showLabels:!1,getAngle:function(e){return e.angle},data:c,onValueMouseOver:function(e){o(e)},onSeriesMouseOut:function(){return o(!1)},width:50,height:50,padAngle:.1,children:!1!==i&&Object(G.jsx)(rt.e,{value:i,children:Object(G.jsx)("div",{style:{background:"rgba(0,0,0,0.8)",fontSize:10},children:Object(G.jsx)(I.a,{variant:"caption",gutterBottom:!0,children:i.label})})})})})}Object(le.b)((function(e){return{cityioData:e.CITYIO}}),null)((function(e){var t=r.a.useState(null),n=Object(f.a)(t,2),a=n[0],i=n[1],o=Object(le.c)(),c=Object(le.d)((function(e){return e.SELECTED_TYPE})),s=c?c.height:null,l=[{value:0,label:"min"},{value:100,label:"max"}],p=function(e){return"string"==typeof e?JSON.parse(e):e};return Object(G.jsx)(G.Fragment,{children:function(t){var n=[];return Object.keys(t).forEach((function(r,u){var d=t[r].description?t[r].description:null,h=t[r].color,b=p(e.cityioData.GEOGRID.properties.types[r].LBCS),j=p(e.cityioData.GEOGRID.properties.types[r].NAICS);nt(h)&&(h=tt(h));var O="rgb("+h[0]+","+h[1]+","+h[2]+")",g=a===r,f=!1;t[r].height&&(f=!0),n.push(Object(G.jsxs)("div",{children:[Object(G.jsxs)(L.a,{alignItems:"flex-start",button:!0,variant:"raised",selected:g,onClick:function(e){return n=r,(a=t[r]).name=n,i(n),void o(Se(a));var n,a},children:[Object(G.jsx)(ze.a,{children:Object(G.jsx)(qe.a,{style:{backgroundColor:O,color:"black"},children:r.charAt(0)})}),Object(G.jsx)(Ye.a,{primary:r})]}),Object(G.jsx)(Ve.a,{in:g,children:Object(G.jsx)(E.a,{spacing:1,p:1,m:1,children:Object(G.jsx)(_.a,{elevation:15,children:Object(G.jsxs)(T.a,{children:[Object(G.jsx)(I.a,{variant:"h5",children:"Type Information"}),d&&Object(G.jsx)(I.a,{variant:"caption",children:d}),Object(G.jsx)(E.a,{spacing:1,p:1,m:1}),Object(G.jsxs)(Be.a,{container:!0,spacing:3,children:[Object(G.jsx)(Be.a,{item:!0,xs:6,l:6,md:6,xl:6,container:!0,children:b&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(I.a,{variant:"caption",children:"LBCS"}),Object(G.jsx)(it,{typeInfo:b})]})}),Object(G.jsx)(Be.a,{item:!0,xs:6,l:6,md:6,xl:6,container:!0,children:j&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(I.a,{variant:"caption",children:"NAICS"}),Object(G.jsx)(it,{typeInfo:j})]})}),f&&Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)(Be.a,{item:!0,xs:10,l:10,md:10,xl:10,container:!0,children:[Object(G.jsx)(I.a,{gutterBottom:!0,children:"Set Height"}),Object(G.jsx)(Pe.a,{value:s,valueLabelDisplay:"auto",onChange:function(e,t){return o(Se(Object(N.a)(Object(N.a)({},c),{},{height:t})))},getAriaLabel:function(e){return e.toString()},min:l[0].value,max:l[1].value,marks:l})]})})]})]})})})}),Object(G.jsx)(Ue.a,{})]},Math.random()))})),Object(G.jsx)(y.a,{children:n})}(e.cityioData.GEOGRID.properties.types)})})),Object(p.a)({root:{width:"80%",marginLeft:28},subtitle1:{marginTop:12},subtitle2:{marginTop:12}});n(827),n(470),n(465),n(383);Object(p.a)({root:{width:"80%",marginLeft:28},subtitle1:{marginTop:12},subtitle2:{marginTop:12}});n(804),n(806);n(793),n(798),n(796),n(797),n(795);n(573);n(574),n(575);n(576);a.Component,n(821);n(332);n(817);n(377),n(757);Object(p.a)((function(e){return{root:{margin:"auto",height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)}}}));var ot=n(758).solve,ct=function(e,t){for(var n=[],a=[],r=0,i=e.length;r<i;++r){var o=Object(f.a)(e[r],2),c=o[0],s=o[1],l=Object(f.a)(t[r],2),p=l[0],u=l[1];n.push([c,s,1,0,0,0,-c*p,-s*p],[0,0,0,c,s,1,-c*u,-s*u]),a.push(p,u)}var d=ot(n,a,!0);return[d[0],d[3],0,d[6],d[1],d[4],0,d[7],0,0,1,0,d[2],d[5],0,1].map((function(e){return function(e,t){var n=Math.pow(10,t),a=e*n;return Math.round(a)/n}(e,10)}))},st=function(e){return"matrix3d(".concat(e.join(", "),")")},lt=function(e){return"translate(".concat(e[0],"px, ").concat(e[1],"px)")},pt=20/1.5,ut={container:{width:20,height:20,borderRadius:"50%",position:"absolute",border:"1px solid white",cursor:"move"},"top-left":{left:-pt,top:-pt},"bottom-left":{left:-pt,bottom:-pt},"top-right":{top:-pt,right:-pt},"bottom-right":{bottom:-pt,right:-pt}},dt=function(e){var t=e.position,n=e.translation,a=e.onMouseEnter,r=e.onMouseDown,i=e.onMouseUp,o=e.className,c=void 0===o?"":o,s=e.style,l=void 0===s?{}:s;return Object(G.jsx)("div",{onMouseEnter:function(){return a&&a(t)},onMouseDown:function(e){return r(e,t)},onMouseUp:function(){return i(t)},className:c,style:Object(N.a)(Object(N.a)(Object(N.a)(Object(N.a)({},ut.container),ut[t]),l),{},{transform:lt(n)})})},ht={position:"relative"},bt=["top-left","top-right","bottom-right","bottom-left"],jt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Ot=function(){var e={};return bt.forEach((function(t){e[t]=[0,0]})),e};a.Component,n(577),Object(p.a)((function(e){return{button:{margin:e.spacing(1),position:"fixed",bottom:"1vh",zIndex:1001,maxWidth:"50vw"}}}));Object(p.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));var gt=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),ft=function(){var e=gt();return Object(G.jsx)(te,{className:e.root,title:"404",children:Object(G.jsx)(E.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(G.jsxs)(Z.a,{maxWidth:"md",children:[Object(G.jsx)(I.a,{align:"center",color:"textPrimary",variant:"h1",children:"Maintenance..."}),Object(G.jsx)(I.a,{align:"center",color:"textPrimary",variant:"h5",children:"CityScopeJS will return shortly!"})]})})})},mt=[{path:"/",element:Object(G.jsx)(Q,{}),children:[{path:"/",element:Object(G.jsx)(ft,{})},{path:"*",element:Object(G.jsx)(ft,{})},{path:"404",element:Object(G.jsx)(ae,{})}]}],xt=function(){var e=Object(s.h)(mt);return Object(G.jsxs)(l.a,{theme:g,children:[Object(G.jsx)(h,{}),e]})},St=function(e){var t=e.children,n=e.store;return Object(G.jsx)(le.a,{store:n,children:t})};o.a.render(Object(G.jsx)(St,{store:et,children:Object(G.jsx)(c.a,{basename:"https://cityscope.media.mit.edu/CS_cityscopeJS",children:Object(G.jsx)(xt,{})})}),document.getElementById("root"))}},[[759,1,2]]]);
//# sourceMappingURL=main.908f75c2.chunk.js.map