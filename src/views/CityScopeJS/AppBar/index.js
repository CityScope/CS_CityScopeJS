import { useState } from "react";
import AppBar from '@mui/material/AppBar';
import Box from '@mui/material/Box';
import Toolbar from '@mui/material/Toolbar';
import IconButton from '@mui/material/IconButton';
import Typography from '@mui/material/Typography';
import Menu from '@mui/material/Menu';
import MenuIcon from '@mui/icons-material/Menu';
import Container from '@mui/material/Container';
import Button from '@mui/material/Button';
import MenuItem from '@mui/material/MenuItem';
import EditIcon from '@mui/icons-material/Edit';
import FolderIcon from '@mui/icons-material/Folder';
import AutoAwesomeMotionIcon from '@mui/icons-material/AutoAwesomeMotion';
import VisibilityIcon from '@mui/icons-material/Visibility';
import RadarIcon from '@mui/icons-material/Radar';
import DataUsageIcon from '@mui/icons-material/DataUsage';
import BarChartIcon from '@mui/icons-material/BarChart';
import { ExitToApp, Extension } from '@mui/icons-material';
import Groups2Icon from '@mui/icons-material/Groups2';
import ChatIcon from '@mui/icons-material/Chat';

function ResponsiveAppBar(props) {
    const pages = [{
        'id': 1,
        'content':<><EditIcon></EditIcon><Typography fontSize={10}>Edit Mode</Typography></>,
        'function': props.setters.setEdit
    },{
        'id': 2,
        'content':<><FolderIcon></FolderIcon><Typography fontSize={10}>Scenarios</Typography></>,
        'function': props.setters.setScenarios
    },{
        'id': 3,
        'content': <><AutoAwesomeMotionIcon></AutoAwesomeMotionIcon><Typography fontSize={10}>Layers</Typography></>, 
        'function': props.setters.setLayers
    },{
        'id': 4,
        'content': <><VisibilityIcon></VisibilityIcon><Typography fontSize={10}>View</Typography></>, 
        'function': props.setters.setView
    },{
        'id': 5,
        'content': <><RadarIcon></RadarIcon><Typography fontSize={10}>Radar Chart</Typography></>, 
        'function': props.setters.setRadar
    },{
        'id': 6,
        'content':  <><DataUsageIcon></DataUsageIcon><Typography fontSize={10}>Land Use</Typography></>, 
        'function': props.setters.setLand
    },{
        'id': 7,
        'content':  <><BarChartIcon></BarChartIcon><Typography fontSize={10}>Bar Chart</Typography></>,
        'function': props.setters.setBar
    },{
        'id': 8,
        'content':  <><Extension></Extension><Typography fontSize={10}>Modules</Typography></>,
        'function': props.setters.setCore
    }      
     ];

  const [anchorElNav, setAnchorElNav] = useState(null);

  const handleOpenNavMenu = (event) => {
    setAnchorElNav(event.currentTarget);
  };

  const handleCloseNavMenu = () => {
    setAnchorElNav(null);
  };

  //TODO: send the CityScience logo to a file
  return (
    <Box>
        <AppBar position="static" >
        <Container maxWidth='false' disableGutters  >
            <Toolbar sx={{backgroundColor:"hsla(176, 100%, 0%, 0.7)"}}  >
            <svg style= {{display: { xs: 'none', md: 'flex' }, mr: 1, paddingLeft: 1 }} width="70" height="40" xmlns="http://www.w3.org/2000/svg" version="1.1" >
                <g>
                  <title>Layer 1</title>
                    <path stroke="null" id="svg_1" d="m33.18342,25.344c-0.27561,0 -0.55122,-0.066 -0.82683,-0.198c-0.22049,-0.132 -0.44098,-0.264 -0.60634,-0.462c-0.16537,-0.198 -0.33073,-0.462 -0.38586,-0.726c-0.11024,-0.264 -0.16537,-0.594 -0.16537,-0.924c0,-0.33 0.05512,-0.66 0.11024,-0.924c0.11024,-0.264 0.22049,-0.528 0.38586,-0.726c0.16537,-0.198 0.38586,-0.396 0.60634,-0.462c0.22049,-0.132 0.4961,-0.198 0.77171,-0.198c0.27561,0 0.4961,0.066 0.66146,0.132c0.22049,0.066 0.38586,0.198 0.55122,0.33c0.16537,0.132 0.27561,0.33 0.38586,0.528c0.11024,0.198 0.16537,0.462 0.16537,0.66l-1.15756,0c-0.05512,-0.198 -0.11024,-0.33 -0.22049,-0.462c-0.11024,-0.132 -0.22049,-0.198 -0.38586,-0.198c-0.27561,0 -0.44098,0.132 -0.55122,0.33c-0.11024,0.264 -0.16537,0.528 -0.16537,0.924c0,0.396 0.05512,0.726 0.16537,0.924c0.11024,0.198 0.33073,0.33 0.55122,0.33c0.38586,0 0.60634,-0.264 0.66146,-0.792l1.10244,0c0,0.264 -0.05512,0.462 -0.16537,0.726c-0.11024,0.198 -0.22049,0.396 -0.33073,0.594c-0.16537,0.132 -0.33073,0.264 -0.55122,0.396c-0.11024,0.198 -0.38586,0.198 -0.60634,0.198zm2.09463,-6.336l1.15756,0l0,1.122l-1.15756,0l0,-1.122zm0,1.782l1.15756,0l0,4.422l-1.15756,0l0,-4.422zm3.2522,4.488c-0.16537,0 -0.33073,0 -0.4961,-0.066c-0.16537,-0.066 -0.27561,-0.132 -0.38586,-0.198c-0.11024,-0.066 -0.16537,-0.198 -0.22049,-0.396c-0.05512,-0.132 -0.11024,-0.33 -0.11024,-0.594l0,-2.376l-0.4961,0l0,-0.858l0.4961,0l0,-1.386l1.15756,0l0,1.386l0.66146,0l0,0.858l-0.66146,0l0,2.112c0,0.198 0.05512,0.264 0.11024,0.33c0.05512,0.066 0.16537,0.066 0.27561,0.066c0.05512,0 0.11024,0 0.16537,0c0.05512,0 0.11024,0 0.11024,0l0,1.056c-0.05512,0 -0.11024,0.066 -0.22049,0.066c-0.11024,0 -0.22049,0 -0.38586,0l0,0zm1.2678,0.33l0.44098,0c0.16537,0 0.27561,-0.066 0.38586,-0.132c0.05512,-0.066 0.11024,-0.198 0.11024,-0.33c0,-0.066 0,-0.198 -0.05512,-0.33c-0.05512,-0.132 -0.11024,-0.33 -0.16537,-0.594l-1.10244,-3.432l1.2678,0l0.4961,1.914c0.05512,0.132 0.05512,0.198 0.11024,0.33c0,0.132 0.05512,0.198 0.05512,0.33c0,0.132 0.05512,0.198 0.05512,0.33l0,0c0,-0.132 0.05512,-0.198 0.05512,-0.33c0,-0.066 0.05512,-0.198 0.05512,-0.33c0,-0.132 0.05512,-0.264 0.11024,-0.33l0.4961,-1.914l1.15756,0l-1.2678,4.488c-0.05512,0.264 -0.16537,0.462 -0.22049,0.66c-0.11024,0.198 -0.16537,0.33 -0.27561,0.462c-0.11024,0.132 -0.22049,0.198 -0.38586,0.264c-0.16537,0.066 -0.33073,0.066 -0.4961,0.066l-0.77171,0l0,-1.122l-0.05512,0l0,0zm-6.83512,7.392c-0.55122,0 -0.9922,-0.132 -1.2678,-0.396c-0.33073,-0.264 -0.4961,-0.66 -0.4961,-1.188l1.10244,0c0,0.198 0.11024,0.396 0.22049,0.462c0.11024,0.132 0.27561,0.132 0.4961,0.132c0.16537,0 0.33073,-0.066 0.44098,-0.132c0.11024,-0.066 0.16537,-0.198 0.16537,-0.33c0,-0.066 0,-0.198 -0.05512,-0.264c-0.05512,-0.066 -0.11024,-0.132 -0.22049,-0.132c-0.11024,-0.066 -0.16537,-0.066 -0.27561,-0.066c-0.11024,0 -0.22049,-0.066 -0.33073,-0.066c-0.16537,-0.066 -0.33073,-0.066 -0.4961,-0.132c-0.16537,-0.066 -0.27561,-0.132 -0.44098,-0.198c-0.11024,-0.066 -0.22049,-0.198 -0.33073,-0.396c-0.05512,-0.132 -0.11024,-0.396 -0.11024,-0.66c0,-0.198 0.05512,-0.462 0.11024,-0.594c0.11024,-0.198 0.22049,-0.33 0.33073,-0.462c0.16537,-0.132 0.33073,-0.198 0.4961,-0.264c0.22049,-0.066 0.38586,-0.066 0.60634,-0.066c0.55122,0 0.93707,0.132 1.21268,0.396c0.27561,0.264 0.44098,0.594 0.44098,1.056l-1.10244,0c0,-0.198 -0.11024,-0.33 -0.16537,-0.396c-0.11024,-0.066 -0.22049,-0.132 -0.38586,-0.132c-0.16537,0 -0.27561,0 -0.38586,0.132c-0.11024,0.066 -0.16537,0.198 -0.16537,0.33c0,0.066 0,0.132 0.05512,0.198c0.05512,0.066 0.11024,0.066 0.22049,0.132c0.05512,0 0.16537,0.066 0.27561,0.066c0.11024,0 0.22049,0.066 0.33073,0.066c0.16537,0.066 0.33073,0.066 0.4961,0.132c0.16537,0.066 0.33073,0.132 0.44098,0.198c0.11024,0.132 0.27561,0.264 0.33073,0.396c0.11024,0.198 0.11024,0.396 0.11024,0.66c0,0.264 -0.05512,0.462 -0.11024,0.66c-0.11024,0.198 -0.22049,0.33 -0.33073,0.462c-0.16537,0.132 -0.33073,0.198 -0.55122,0.264c-0.22049,0.132 -0.44098,0.132 -0.66146,0.132l0,0zm3.85854,0c-0.27561,0 -0.55122,-0.066 -0.82683,-0.198c-0.22049,-0.132 -0.44098,-0.264 -0.60634,-0.462c-0.16537,-0.198 -0.33073,-0.462 -0.38586,-0.726c-0.11024,-0.264 -0.16537,-0.594 -0.16537,-0.924c0,-0.33 0.05512,-0.66 0.11024,-0.924c0.11024,-0.264 0.22049,-0.528 0.38586,-0.726c0.16537,-0.198 0.38586,-0.396 0.60634,-0.462c0.22049,-0.132 0.4961,-0.198 0.77171,-0.198c0.27561,0 0.4961,0.066 0.66146,0.132c0.22049,0.066 0.38586,0.198 0.55122,0.33c0.16537,0.132 0.27561,0.33 0.38586,0.528c0.11024,0.198 0.16537,0.462 0.16537,0.66l-1.15756,0c-0.05512,-0.198 -0.11024,-0.33 -0.22049,-0.462c-0.11024,-0.132 -0.22049,-0.198 -0.38586,-0.198c-0.27561,0 -0.44098,0.132 -0.55122,0.33c-0.11024,0.264 -0.16537,0.528 -0.16537,0.924c0,0.396 0.05512,0.726 0.16537,0.924c0.11024,0.198 0.33073,0.33 0.55122,0.33c0.38586,0 0.60634,-0.264 0.66146,-0.792l1.10244,0c0,0.264 -0.05512,0.462 -0.16537,0.726c-0.11024,0.198 -0.22049,0.396 -0.33073,0.594c-0.16537,0.132 -0.33073,0.264 -0.55122,0.396c-0.05512,0.132 -0.33073,0.198 -0.60634,0.198zm2.14976,-6.336l1.15756,0l0,1.122l-1.15756,0l0,-1.122zm0,1.782l1.15756,0l0,4.422l-1.15756,0l0,-4.422zm3.58293,4.554c-0.33073,0 -0.55122,-0.066 -0.82683,-0.198c-0.22049,-0.132 -0.44098,-0.264 -0.60634,-0.462c-0.16537,-0.198 -0.27561,-0.462 -0.38586,-0.726c-0.11024,-0.264 -0.11024,-0.594 -0.11024,-0.924c0,-0.33 0.05512,-0.66 0.11024,-0.924s0.22049,-0.528 0.38586,-0.726c0.16537,-0.198 0.38586,-0.396 0.60634,-0.462c0.22049,-0.132 0.4961,-0.198 0.77171,-0.198c0.27561,0 0.4961,0.066 0.71659,0.132c0.22049,0.066 0.38586,0.264 0.55122,0.396c0.22049,0.264 0.38586,0.528 0.4961,0.924c0.11024,0.396 0.16537,0.792 0.16537,1.254l-2.64586,0c0.05512,0.33 0.11024,0.528 0.27561,0.726c0.11024,0.198 0.33073,0.264 0.55122,0.264c0.16537,0 0.27561,-0.066 0.38586,-0.132c0.11024,-0.066 0.16537,-0.198 0.22049,-0.33l1.15756,0c-0.05512,0.198 -0.11024,0.396 -0.22049,0.594c-0.11024,0.198 -0.22049,0.33 -0.38586,0.462c-0.16537,0.132 -0.33073,0.264 -0.4961,0.33c-0.27561,-0.066 -0.4961,0 -0.71659,0l0,0zm0.60634,-2.838c0,-0.264 -0.11024,-0.462 -0.22049,-0.66c-0.11024,-0.132 -0.27561,-0.264 -0.4961,-0.264c-0.22049,0 -0.38586,0.066 -0.4961,0.264c-0.11024,0.132 -0.22049,0.396 -0.22049,0.66l1.43317,0l-0.00001,0zm1.59854,-1.716l1.15756,0l0,0.594l0,0c0.16537,-0.264 0.27561,-0.396 0.4961,-0.528c0.16537,-0.132 0.38586,-0.198 0.66146,-0.198c0.22049,0 0.38586,0.066 0.55122,0.132c0.16537,0.066 0.27561,0.198 0.38586,0.33c0.11024,0.132 0.22049,0.33 0.27561,0.528c0.05512,0.198 0.11024,0.462 0.11024,0.66l0,2.904l-1.15756,0l0,-2.574c0,-0.264 -0.05512,-0.396 -0.16537,-0.594c-0.11024,-0.132 -0.22049,-0.198 -0.44098,-0.198c-0.22049,0 -0.33073,0.066 -0.4961,0.264c-0.11024,0.198 -0.16537,0.396 -0.16537,0.66l0,2.442l-1.15756,0l0,-4.422l-0.05512,0l0,0zm5.95317,4.554c-0.27561,0 -0.55122,-0.066 -0.82683,-0.198c-0.22049,-0.132 -0.44098,-0.264 -0.60634,-0.462c-0.16537,-0.198 -0.33073,-0.462 -0.38586,-0.726c-0.11024,-0.264 -0.16537,-0.594 -0.16537,-0.924c0,-0.33 0.05512,-0.66 0.11024,-0.924c0.11024,-0.264 0.22049,-0.528 0.38586,-0.726c0.16537,-0.198 0.38586,-0.396 0.60634,-0.462c0.22049,-0.132 0.4961,-0.198 0.77171,-0.198c0.27561,0 0.4961,0.066 0.66146,0.132c0.22049,0.066 0.38586,0.198 0.55122,0.33c0.16537,0.132 0.27561,0.33 0.38586,0.528c0.11024,0.198 0.16537,0.462 0.16537,0.66l-1.15756,0c-0.05512,-0.198 -0.11024,-0.33 -0.22049,-0.462c-0.11024,-0.132 -0.22049,-0.198 -0.38586,-0.198c-0.27561,0 -0.44098,0.132 -0.55122,0.33c-0.11024,0.264 -0.16537,0.528 -0.16537,0.924c0,0.396 0.05512,0.726 0.16537,0.924c0.11024,0.198 0.33073,0.33 0.55122,0.33c0.38586,0 0.60634,-0.264 0.66146,-0.792l1.10244,0c0,0.264 -0.05512,0.462 -0.16537,0.726c-0.11024,0.198 -0.22049,0.396 -0.33073,0.594c-0.16537,0.132 -0.33073,0.264 -0.55122,0.396c-0.11024,0.132 -0.38586,0.198 -0.60634,0.198zm3.91366,0c-0.33073,0 -0.55122,-0.066 -0.82683,-0.198c-0.22049,-0.132 -0.44098,-0.264 -0.60634,-0.462c-0.16537,-0.198 -0.27561,-0.462 -0.38586,-0.726c-0.11024,-0.264 -0.11024,-0.594 -0.11024,-0.924c0,-0.33 0.05512,-0.66 0.11024,-0.924s0.22049,-0.528 0.38586,-0.726c0.16537,-0.198 0.38586,-0.396 0.60634,-0.462c0.22049,-0.132 0.4961,-0.198 0.77171,-0.198c0.27561,0 0.4961,0.066 0.71659,0.132c0.22049,0.066 0.38586,0.264 0.55122,0.396c0.22049,0.264 0.38586,0.528 0.4961,0.924c0.11024,0.396 0.16537,0.792 0.16537,1.254l-2.64586,0c0.05512,0.33 0.11024,0.528 0.27561,0.726c0.11024,0.198 0.33073,0.264 0.55122,0.264c0.16537,0 0.27561,-0.066 0.38586,-0.132c0.11024,-0.066 0.16537,-0.198 0.22049,-0.33l1.15756,0c-0.05512,0.198 -0.11024,0.396 -0.22049,0.594c-0.11024,0.198 -0.22049,0.33 -0.38586,0.462c-0.16537,0.132 -0.33073,0.264 -0.4961,0.33c-0.27561,-0.066 -0.44098,0 -0.71659,0l0,0zm0.66146,-2.838c0,-0.264 -0.11024,-0.462 -0.22049,-0.66c-0.11024,-0.132 -0.27561,-0.264 -0.4961,-0.264c-0.22049,0 -0.38586,0.066 -0.4961,0.264c-0.11024,0.132 -0.22049,0.396 -0.22049,0.66l1.43317,0l-0.00001,0zm-55.28733,2.772l0,-32.934m0,0l0,32.868l11.74098,0l0,-4.686l-7.82732,0l0,-23.496l23.53708,0l0,-4.686l-27.45074,0zm7.82732,9.372l0,14.058l15.70976,0l0,4.686l-7.82732,0l0,4.686l11.74098,0l0,-13.992l-15.70976,0l0,-4.686l15.70976,0l0,-4.686l-19.62342,0l0,-0.066z" fill="#ffffff"/>                </g>
                </svg>
            <Typography
                variant="h6"
                noWrap
                component="a"
                sx={{
                mr: 2,
                display: { xs: 'none', md: 'flex' },
                fontFamily: `"Neue Haas Grotesk Display","Helvetica Neue",Helvetica,Arial,sans-serif`,
                fontWeight: 700,
                letterSpacing: '.3rem',
                color: 'inherit',
                textDecoration: 'none',
                userSelect: 'none'
                }}
            >
                MIT  CITYSCOPE
            </Typography>

            <Box sx={{ flexGrow: 1, display: { xs: 'flex', md: 'none' } }}>
                <IconButton
                size="large"
                aria-label="account of current user"
                aria-controls="menu-appbar"
                aria-haspopup="true"
                onClick={handleOpenNavMenu}
                color="inherit"
                >
                <MenuIcon />
                </IconButton>
                <Menu
                id="menu-cityscope"
                anchorEl={anchorElNav}
                anchorOrigin={{
                    vertical: 'bottom',
                    horizontal: 'left',
                }}
                keepMounted
                transformOrigin={{
                    vertical: 'top',
                    horizontal: 'left',
                }}
                open={Boolean(anchorElNav)}
                onClose={handleCloseNavMenu}
                sx={{
                    display: { xs: 'block', md: 'none' },
                }}
                >
                {pages.map((page) => (
                    <MenuItem key={page.id} onClick={() => {page.function(booli => !booli);}}>
                    {page.content}
                    </MenuItem>
                ))}
                </Menu>
            </Box>
        <Typography
                variant="h5"
                noWrap
                component="a"
                sx={{
                mr: 2,
                display: { xs: 'flex', md: 'none' },
                flexGrow: 1,
                fontFamily: `"Neue Haas Grotesk Display","Helvetica Neue",Helvetica,Arial,sans-serif`,
                fontWeight: 700,
                letterSpacing: '.3rem',
                color: 'inherit',
                textDecoration: 'none',
                }}
            >
                MIT CITYSCOPE
            </Typography>
            <Box sx={{ flexGrow: 1, display: { xs: 'none', md: 'flex' } }}>
                {pages.map((page) => (
                <Button
                    key={page.id}
                    onClick={() => {page.function(booli => !booli);}}
                    sx={{ my: 0.2, color: 'white', display: 'block', marginLeft: 2, alignContent:"center" }}
                >
                    {page.content}
                </Button>
                ))}
            </Box>
            <Typography sx={{userSelect: 'none'}}>
                {props.tableName}
            </Typography>
            <IconButton href="/" sx={{marginLeft:2}}><ExitToApp/></IconButton>
            </Toolbar>
        </Container>
        </AppBar>
    </Box>
  );
}
export default ResponsiveAppBar;